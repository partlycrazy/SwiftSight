<div class="grid-container">  
  <div style="padding-left: 16px;" *ngIf='admin'>
    <mat-form-field class="mr-5">
      <mat-label>Hospital</mat-label>
      <mat-select [(ngModel)]="activeHospital.id" (selectionChange)="updateInventory()">
        <mat-option>None</mat-option>
        <mat-option *ngFor="let hospital of hospitals" [value]="hospital.id">{{ hospital.name }} </mat-option>
      </mat-select>
    </mat-form-field>    
  </div>

  <mat-grid-list cols="3" rowHeight="120px">
    <mat-grid-tile [colspan]="2" [rowspan]="2">
      <mat-card class="dashboard-card">        
        <mat-card-header>
          <mat-card-title>
            Occupancy
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
          {{ activeHospital.patients[0] }} Non-ICU Patients
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="2">
      <mat-card class="dashboard-card">        
        <mat-card-header>
          <mat-card-title>
            ICU Occupancy
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
          {{ activeHospital.patients[1] }} ICU Patients
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>    
  </mat-grid-list>
  
  <mat-grid-list cols="3" rowHeight="350px">
    <mat-grid-tile [colspan]="1" [rowspan]="3">
      <mat-card class="dashboard-card">        
        <mat-card-header>
          <mat-card-title>
            Current Inventory
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
          <div *ngIf="activeHospital != null" class="d-flex">
            <table mat-table [dataSource]="activeHospital.items" class="mat-elevation-z8 demo-table">
            
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Name</th>
                <td mat-cell *matCellDef="let element">{{element.name}}</td>
              </ng-container>
            
              <!-- Qty Column -->
              <ng-container matColumnDef="qty">
                <th mat-header-cell *matHeaderCellDef>Qty</th>
                <td mat-cell *matCellDef="let element">{{element.qty}}</td>
              </ng-container>
                
              <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
              <tr
                  mat-row
                  (click)="selectInventory(row)"
                  [class.is-clicked]="selected.has(row.name)"
                  *matRowDef="let row; columns: columnsToDisplay;"
              ></tr>
            </table>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="2" [rowspan]="2">
      <mat-card class="dashboard-card">        
        <mat-card-header>
          <mat-card-title>
            Inventory Prediction Graph
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
          <dashboard-burnrate  [activeItem]="selected"></dashboard-burnrate>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="2" [rowspan]="1">
      <mat-card class="dashboard-card">        
        <mat-card-header>
          <mat-card-title>
            Upcoming Shipments
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
